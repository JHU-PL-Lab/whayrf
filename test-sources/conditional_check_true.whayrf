# EXPECT-EVALUATE
# EXPECT-TYPECHECK
re = {};
e = {l = re};
# Match {l = {}} with {l : {}}
c = e ~ {l : {}} ? fun a -> { rra = {}; ra = {y = rra} } : fun b -> { rrb = {}; rb = {n = rrb} };
# Now get stuck if we didn't get a {y = {}}
t = c ~ {y : {}} ? fun j -> { rj = {} } : fun k -> { r = e e };
